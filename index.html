<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TaskManager</title>
  <link rel="stylesheet" href="bootstrap-5.3.7-dist/css/bootstrap.min.css">
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark p-3">
    <div class="container">
      <a class="navbar-brand" href="#">
        Task Manager
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarnav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarnav">
        <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link active" href="#">Dashboard</a></li>
            <li class="nav-item">
              <a class="nav-link" href="#">Reports</a></li>
            <li class="nav-item">
              <a class="nav-link" href="#">Tasks</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container mt-3">
    <button class="btn btn-outline-primary mt-4" type="button" data-bs-toggle="modal" data-bs-target="#addtaskmodal">ADD TASKS</button>
    <!--cards:ued for show content in structured format-->
    <div class="card mt-4" id="cardlist">
      <div class="card-header">
        Task List
      </div>
      <div class="card-body" id="cardbody">
        <!--list group-->
        <ul class="list-group list-group-flush" id="tasklist">
          <li class="list-group-item">
            <div class="row">
            <div class="col-12 col-md-6 text-wrap text-break max-width:70%">
              <strong>Task 1</strong><br>
              <small>This is a sample description</small>
               <!--badge:indicate a message-->
              <h6><span class="badge bg-primary rounded-pill align-item-center">New</span></h6>
            </div>

            <div class="col-12 col-md-6 dropdown d-flex justify-content-md-end">
            <!--drop down:usefull for providing links of action-->
            <button class="btn btn-outline-success dropdown-toggle" type="button" data-bs-toggle="dropdown" data-bs-target="" style="height: 40px;">Actions</button>
              <div class="dropdown-menu">
                <button class="dropdown-item" onclick="deleteRow(this)">Delete Task</button>
              </div>   
            </div>
            </div>
          </li>
        </ul>
      </div>
    </div>

      <!--model:display alert message-->
      <div class="modal fade" id="addtaskmodal">
        <!--setting position and size of the dialog box model-dialog-->
        <div class="modal-dialog">
          <!--content of model-->
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title"> ADD TASK </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
              <form action="" id="modalform">
                <div class="mb-3">
                  <label for="taskname" class="form-label">Task Name</label>
                  <input id="taskname" type="text" placeholder="Enter Task Name" class="form-control">
                </div>
                <div class="mb-3">
                  <label for="taskdes" class="form-label">Task Description</label>
                  <textarea id="taskdes" type="text" placeholder="Enter Task Description" class="form-control"></textarea>
                </div>
                <div class="mb-3">
                  <label for="taskstatus" class="form-label">Task Status</label>
                  <select class="form-select" id="taskstatus">
                     <option value="New" selected>New</option>
                     <option value="In Progress">In Progress</option>
                     <option value="Completed">Completed</option>
                     <option value="Canceled">Canceled</option>
                  </select>
                </div>
              </form>
            </div>
            <div class="model-footer">
              <button type="button" class="btn btn-primary ms-3 mb-4" id="savebtn">Save Task</button>
              <button type="button" class="btn btn-secondary ms-3 mb-4" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
       </div>
      </div>
  </div>


<script src="bootstrap-5.3.7-dist/js/bootstrap.bundle.min.js"></script>
<script>
  var savebtn = document.getElementById("savebtn");
  var taskform = document.getElementById("modalform");
  var tasklist= document.getElementById("tasklist");
  

    savebtn.addEventListener('click',function(){

        var name = document.getElementById("taskname").value;
        var taskdescription = document.getElementById("taskdes").value;
        var Status = document.getElementById("taskstatus").value;

        var badgeclass;
        switch(Status){
          case "New":
            badgeclass = "bg-primary";
            break;
          case "In Progress":
            badgeclass = "bg-warning";
            break;
          case "Completed":
            badgeclass = "bg-success";
            break;
          case "Canceled":
            badgeclass = "bg-danger";
            break;
        }


        //new list item
        var li=document.createElement("li");
        li.className="list-group-item d-flex justify-content-between align-item-start";
        li.innerHTML= `
                <div class="row" mt-2>
                <div class="col-12 col-md-6 text-wrap text-break max-width:70%">
                  <strong>${name}</strong><br>
                  <small>${taskdescription}</small>
                  <h6><span class="badge ${badgeclass} rounded-pill text-align-center">${Status}</span></h6>
                </div>
                
                <div class="col-12 col-md-6 dropdown d-flex justify-content-md-end">
                <button class="btn btn-outline-success dropdown-toggle" type="button" data-bs-toggle="dropdown" data-bs-target="" style="height: 40px;">Actions</button>
                  <div class="dropdown-menu">
                     <button class="dropdown-item" onclick="deleteRow(this)">Delete Task</button>
                  </div>
                </div> 
                </div>   
        `;
        
        tasklist.appendChild(li);
        taskform.reset();

    });  

    function deleteRow(button) {
        var row = button.parentElement.parentElement.parentElement;
        row.remove();
    }  

</script>
</body>
</html>
